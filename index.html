<html ng-app="mainpopup">
  <head>
    <style type="text/css">
    	#mainPopup {
    		width: 300px;
        max-height: 500px;
    		font-family: sans-serif;
    		background: #262626;
    	}
      #title {
        color: white;
        display: inline-block;
      }
      #logo {
        display: inline-block;
        float: left;
        margin: 10px 20px 0 10px;
        height: 50px
      }
      #password-list {
        list-style: none
      }
      #password-list li {
        height: 80px;
      }
      #icon-thumb {
        height: 30;
        float:left;
        display: inline-block;
        margin-left: -30px;
        margin-top: 20px;

      }
      #website-label {
        padding-left: 10px;
        padding-top: 15px;
      }
      #username-label {
        padding-left: 10px;
        color: #555555;
        font-size: 75%;

      }

      #back {
        margin: 10px 20px;
        text-decoration: underline;
        color: #555555;
      }
      #action-list {
        text-decoration: none;
        list-style: none;
      }
      #action-list li {
        height: 40px;
      }
      #action-list li > p {
        padding-top: 10px;
      }
      #copyfrom {
          position: absolute;
          left: -9999px;
      }
      #first-load {
        margin-left: 10%;
      }
      #first-load p {
        padding-top: 20px;
      }
      #first-load input {
        padding:5px;
        border:2px solid #ccc;
        -webkit-border-radius: 5px;
        border-radius: 5px;
        width: 80%;
      }
      #first-load input:focus {
        border: 3px solid #2fa1bc;
        -webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.3) inset;
        -moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.3) inset;
        box-shadow:0 1px 2px rgba(0, 0, 0, 0.3) inset;
        outline: none;
      }
      #first-load button {
        display: inline-block;
        margin-top: 20px;
        width: 80%;
        height: 50px;
        -webkit-border-radius: 5px;
        border-radius: 5px;
        background-color: #2fa1bc;
        color: white;

      }
      #first-load hr {
        width: 30%;
        display:  inline-block;

      }
      #first-load b {
        padding-left: 20px;
        padding-right: 20px;
        display: inline-block;
        transform: translateY(-13px);
        color: #555555;
      }
      #create-wallet {
        color: #2fa1bc;
        margin-left: 30px;
        padding-bottom: 20px;
      }
      #add-password {
        text-decoration: none;
        color: white;
        margin-left: 20px;
        margin-bottom: 60px;
        font-size: 300%;
        color: #2fa1bc;
      }
      #add-new-password {
        margin-left: 10%;
      }
      #add-new-password p {
        padding-top: 20px;
      }
      #add-new-password input {
        padding:5px;
        border:2px solid #ccc;
        -webkit-border-radius: 5px;
        border-radius: 5px;
        width: 80%;
      }
      #add-new-password input {
        padding:5px;
        border:2px solid #ccc;
        -webkit-border-radius: 5px;
        border-radius: 5px;
        width: 80%;
      }
      #add-new-password input:focus {
        border: 3px solid #2fa1bc;
        -webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.3) inset;
        -moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.3) inset;
        box-shadow:0 1px 2px rgba(0, 0, 0, 0.3) inset;
        outline: none;
      }
      #add-new-password button {
        display: inline-block;
        margin-top: 20px;
        width: 80%;
        height: 50px;
        -webkit-border-radius: 5px;
        border-radius: 5px;
        background-color: #2fa1bc;
        color: white;
        margin-bottom: 20px;
      }
      #add-new-password h5 {
        font-size: 130%;
        margin-top: 0px;
        margin-bottom: 0px;
        color: #2fa1bc;
      }

    </style>
  </head>
  <script src="./js/aes.js"></script>
  <script src="./js/angular.min.js"></script>
  <script src="js/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="./lib/browser.js"></script>
  <script src="popup.js"></script>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <body>
    <div ng-controller="popupCtrl" id="mainPopup">
    	<div id="header" class="row">
    		<div class="col-xs-12">
          <img src="OntLogo.png" id="logo"></img>
    			<h1 id="title">ONTlock</h1>
          <a ng-if="showPasswords" ng-click="addPassword()" id="add-password">+</a>
    		</div>
      </div>

      <!-- First time loading page -->
      <div class="row" style="background-color: white" ng-if="firstLoad">
        <div class="col-xs-12" id="first-load">
          <p>Private Key</p>
          <input id="private-key-input"></input>
          <p>Password</p>
          <input id="password-input" type="password"></input>

          <a ng-click="logInClicked()"><button>Log In</button></a>

          <br><br>
          <hr><b>Or</b><hr><br>

          <a id="create-wallet" href="https://github.com/ontio/OWallet/releases" target="_blank">Create wallet to get started</a>
        </div>
      </div>

      <!-- Passwords Page -->
      <div class="row" style="background-color: white" ng-if="showPasswords">
        <div class="col-xs-12">
          <ul id="password-list">
            <li ng-repeat="password in passwords"
                ng-click="showDetailsForPassword(password)"
                ng-style="{ 'background': (isHover ? '#FAFAFA' : 'transparent') }"
                ng-mouseenter="isHover = true;"
                ng-mouseleave="isHover = false;">
              <img src="OntLogo.png" id="icon-thumb">
              <p id="website-label">{{password.url}}</p>
              <p id="username-label">{{password.username}}</p>
              <hr>
            </li>
          </ul>
        </div>
      </div>
      <div class="row" style="background-color: white; padding-bottom: 20px;" ng-if="showDetails || showAddPassword">
        <div class="col-xs-12">
          <a id="back" href="/" ng-click="backPressed()">Back</a>
        </div>
      </div>

      <!-- Add Password Page -->
      <div class="row" style="background-color: white" ng-show="showAddPassword">
        <div class="col-xs-12" id="add-new-password">
          <h5>{{addOrEdit}}</h5>
          <p>URL</p>
          <input id="new-url"></input>
          <p>Username</p>
          <input id="new-username"></input>
          <p>Password</p>
          <input id="new-password" type="password"></input>

          <a ng-click="addNewPassword()"><button>{{addOrEdit}}</button></a>

        </div>
      </div>

      <!-- Details Page -->
      <div class="row" style="background-color: white" ng-show="showDetails">
        <div class="col-xs-12">
          <ul id="action-list">
            <li ng-click="action(password, 1)"
            ng-style="{ 'background': (isHover1 ? '#FAFAFA' : 'transparent') }"
            ng-mouseenter="isHover1 = true;"
            ng-mouseleave="isHover1 = false;">
              <p id="website-label">Copy Username</p>

              <!-- This input is needed for copy -->
              <input id="copyfrom" tabindex='-1' aria-hidden='true'>

            </li>
            <li ng-click="action(password, 2)"
            ng-style="{ 'background': (isHover2 ? '#FAFAFA' : 'transparent') }"
            ng-mouseenter="isHover2 = true;"
            ng-mouseleave="isHover2 = false;">
              <p id="website-label">Copy Password</p>
            </li>
            <li ng-click="action(password, 3)"
            ng-style="{ 'background': (isHover3 ? '#FAFAFA' : 'transparent') }"
            ng-mouseenter="isHover3 = true;"
            ng-mouseleave="isHover3 = false;">
              <p id="website-label">Copy URL</p>
            </li>
            <li ng-click="action(password, 4)"
            ng-style="{ 'background': (isHover4 ? '#FAFAFA' : 'transparent') }"
            ng-mouseenter="isHover4 = true;"
            ng-mouseleave="isHover4 = false;">
              <p id="website-label">Go to URL</p>
            </li>
            <li ng-click="action(password, 5)"
            ng-style="{ 'background': (isHover5 ? '#FAFAFA' : 'transparent') }"
            ng-mouseenter="isHover5 = true;"
            ng-mouseleave="isHover5 = false;">
              <p id="website-label">Edit</p>
            </li>
            <li ng-click="action(password, 6)"
            ng-style="{ 'background': (isHover6 ? '#FAFAFA' : 'transparent') }"
            ng-mouseenter="isHover6 = true;"
            ng-mouseleave="isHover6 = false;">
              <p id="website-label">Delete</p>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>
